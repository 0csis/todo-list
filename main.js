(()=>{"use strict";var t={};function e(t,e,n,o){this.Title=t,this.Description=e,this["Due date"]=n,this.Priority=o}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var c=o.length-1;c>-1&&!e;)e=o[c--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const n=t=>{for(let e=0;e<t.length-1;e++){const n=Object.values(t[e])[2].substr(0,4),o=Object.values(t[e])[2].substr(8,10),c=Object.values(t[e])[2].substr(5,7);for(let s=e+1;s<t.length;s++){const r=Object.values(t[s])[2].substr(0,4),d=Object.values(t[s])[2].substr(8,10),i=Object.values(t[s])[2].substr(5,7);if(n>r){const n=t[e];t[e]=t[s],t[s]=n,e=-1;break}if(n==r&&c>i){const n=t[e];t[e]=t[s],t[s]=n,e=-1;break}if(n==r&&c==i&&o>d){const n=t[e];t[e]=t[s],t[s]=n,e=-1;break}}}},o=t.p+"267f370fafe146d23041.svg",c=t.p+"2ad67c4d47e2a825090b.svg";function s(){const t=document.querySelector(".main");if(t.hasChildNodes())for(;t.firstChild;)t.removeChild(t.firstChild)}function r(t){localStorage.setItem("projectsList",JSON.stringify(t))}function d(t){localStorage.setItem("toDosList",JSON.stringify(t))}function i(t,e){document.querySelectorAll(".removeButton").forEach((n=>{n.addEventListener("click",(()=>{const o=n.parentElement;o.parentElement.removeChild(o);for(let n=0;n<e.length;n++){if(o.classList.contains(`${n}`)&&o.classList.contains("projectToDo"))return console.log("project"),e.splice(n,1),void r(t);if(o.classList.contains(`${n}`)&&o.classList.contains("toDo"))return console.log("todo"),e.splice(n,1),void d(e)}}))}))}function a(t,e){const s=document.querySelector(".main");n(e);const d=[];for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("projectToDo"),n.classList.add(`${t}`),d.push(n);for(let c=0;c<Object.keys(e[t]).length;c++){const s=document.createElement("div");s.classList.add("row");const r=Object.keys(e[t])[c],d=Object.values(e[t])[c],i=document.createElement("div");i.classList.add("property"),i.textContent=`${r}:`,s.appendChild(i);const a=document.createElement("div");a.classList.add("propertyValue"),a.textContent=`${d}`,s.appendChild(a);const l=document.createElement("button");l.classList.add("editButton");const u=new Image;u.src=o,l.appendChild(u),s.appendChild(l),n.appendChild(s)}const r=document.createElement("button");r.classList.add("removeButton");const i=new Image;i.src=c,r.appendChild(i),n.appendChild(r),s.appendChild(n)}r(t),l(t,e),i(t,e)}function l(t,e){document.querySelectorAll(".editButton").forEach((n=>{n.addEventListener("click",(()=>{const o=n.parentElement,c=n.previousElementSibling,i=c.previousElementSibling,l=n.parentElement;o.removeChild(n);const p=l.parentElement,m=document.createElement("input");switch(i.textContent){case"Title:":case"Description:":m.type="text";break;case"Due date:":m.type="date",m.setAttribute("required","true");break;case"Priority:":m.type="range",m.setAttribute("min","1"),m.setAttribute("max","3")}l.replaceChild(m,c),m.addEventListener("change",(()=>{let b;o.appendChild(n),c.textContent=m.value,l.replaceChild(c,m);for(let n=0;n<e.length;n++)if(p.classList.contains(`${n}`)){switch(b=n,i.textContent){case"Title:":e[n].Title=m.value;break;case"Description:":e[n].Description=m.value;break;case"Due date:":if(e[n]["Due date"]=m.value,s(),p.classList.contains("projectToDo")){a(t,e);break}if(p.classList.contains("toDo")){u(t,e);break}case"Priority:":e[n].Priority=m.value}p.classList.contains("projectToDo")?r(t):p.classList.contains("toDo")&&d(e)}}))}))}))}function u(t,e){const s=document.querySelector(".main");n(e);const r=[];for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("toDo"),n.classList.add(`${t}`),r.push(n);for(let c=0;c<Object.keys(e[t]).length;c++){const s=document.createElement("div");s.classList.add("row");const r=Object.keys(e[t])[c],d=Object.values(e[t])[c],i=document.createElement("div");i.classList.add("property"),i.textContent=`${r}:`,s.appendChild(i);const a=document.createElement("div");a.classList.add("propertyValue"),a.textContent=`${d}`,s.appendChild(a);const l=document.createElement("button");l.classList.add("editButton");const u=new Image;u.src=o,l.appendChild(u),s.appendChild(l),n.appendChild(s)}const d=document.createElement("button");d.classList.add("removeButton");const i=new Image;i.src=c,d.appendChild(i),n.appendChild(d),s.appendChild(n)}l(t,e),i(t,e),d(e)}function p(t,e){this.Title=t,this["Due date"]=e,this.project=[]}function m(t){const e=document.querySelectorAll(".projectDetail");document.querySelector(".main"),e.forEach((e=>{e.addEventListener("click",(()=>{s();const n=e.parentElement;for(let e=0;e<t.length;e++)n.classList.contains(`${e}`)&&a(t,t[e].project);r(t)}))}))}function b(t,e){const n=document.querySelector(".defaultTitle");document.querySelector(".main"),n.addEventListener("click",(()=>{s(),u(t,e)}))}function h(t,n){const o=document.querySelector(".main"),c=document.createElement("form");c.classList.add("projectForm");const s=document.createElement("div");s.classList.add("projectFormControl");const r=document.createElement("label");r.classList.add("projectFormLabel"),r.setAttribute("for","title"),r.textContent="Title";const d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","title"),r.appendChild(d),s.appendChild(r),c.appendChild(s);const i=document.createElement("div");i.classList.add("projectFormControl");const l=document.createElement("label");l.classList.add("projectFormLabel"),l.setAttribute("for","description"),l.textContent="Description";const u=document.createElement("input");u.setAttribute("type","text"),u.setAttribute("id","description"),l.appendChild(u),i.appendChild(l),c.appendChild(i);const p=document.createElement("div");p.classList.add("projectFormControl");const m=document.createElement("label");m.classList.add("projectFormLabel"),m.setAttribute("for","dueDate"),m.textContent="Due date";const b=document.createElement("input");b.setAttribute("type","date"),b.setAttribute("id","dueDate"),b.setAttribute("required","true"),m.appendChild(b),p.appendChild(m),c.appendChild(p);const h=document.createElement("div");h.classList.add("projectFormControl");const f=document.createElement("label");f.classList.add("projectFormLabel"),f.setAttribute("for","priority"),f.textContent="Priority";const C=document.createElement("input");C.setAttribute("type","range"),C.setAttribute("id","priority"),C.setAttribute("min","1"),C.setAttribute("max","3"),f.appendChild(C),h.appendChild(f),c.appendChild(h);const v=document.createElement("div");v.classList.add("projectFormControl");const L=document.createElement("button");L.classList.add("add"),L.textContent="Add",v.appendChild(L),c.appendChild(v),o.appendChild(c),c.addEventListener("submit",(s=>{s.preventDefault(),function(t,e){e.push(t)}(new e(document.querySelector("#title").value,document.querySelector("#description").value,document.querySelector("#dueDate").value,document.querySelector("#priority").value),n),o.removeChild(c),a(t,n)}))}function f(t){document.querySelectorAll(".addToDoInProject").forEach((e=>{e.addEventListener("click",(()=>{s();const n=e.parentElement;for(let e=0;e<t.length;e++)n.classList.contains(`${e}`)&&h(t,t[e].project)}))}))}const C=t.p+"adf45c3369508f392a0d.svg";function v(t,e){const n=document.querySelector(".projects");if(n.hasChildNodes())for(;n.hasChildNodes();){const{firstChild:t}=n;n.removeChild(t)}(t=>{for(let e=0;e<t.length-1;e++){const n=Object.values(t[e])[1].substr(0,4),o=Object.values(t[e])[1].substr(8,10),c=Object.values(t[e])[1].substr(5,7);for(let s=e+1;s<t.length;s++){const r=Object.values(t[s])[1].substr(0,4),d=Object.values(t[s])[1].substr(8,10),i=Object.values(t[s])[1].substr(5,7);if(n>r){const n=t[e];t[e]=t[s],t[s]=n,e=-1;break}if(n==r&&c>i){const n=t[e];t[e]=t[s],t[s]=n,e=-1;break}if(n==r&&c==i&&o>d){const n=t[e];t[e]=t[s],t[s]=n,e=-1;break}}}})(t);const o=[];for(let e=0;e<t.length;e++){const c=document.createElement("div");c.classList.add("project"),c.classList.add(`${e}`),o.push(c);for(let n=0;n<Object.keys(t[e]).length-1;n++){const o=Object.values(t[e])[n],s=document.createElement("div");s.classList.add("projectDetail"),s.textContent=`${o}`,c.appendChild(s)}const s=document.createElement("button");s.classList.add("removeButton"),s.classList.add("removeProjectButton");const r=new Image;r.src=C,s.appendChild(r),c.appendChild(s);const d=document.createElement("button");d.classList.add("addToDoInProject"),d.textContent="Add to-do",c.appendChild(d),n.appendChild(c)}m(t),b(e),f(t),function(t,e){document.querySelectorAll(".removeProjectButton").forEach((n=>{n.addEventListener("click",(()=>{const o=n.parentElement;o.parentElement.removeChild(o);for(let n=0;n<t.length;n++)if(o.classList.contains(`${n}`))return t.splice(n,1),void v(t,e)}))}))}(t,e),r(t)}let L=[],E=[];var y,j;L=function(){let t=JSON.parse(localStorage.getItem("toDosList"));return null===t&&(t=[]),t}(),E=function(){let t=JSON.parse(localStorage.getItem("projectsList"));return null===t&&(t=[]),t}(),u(E,L),v(E,L),b(E,L),y=E,j=L,document.querySelector(".newDefault").addEventListener("click",(()=>{s(),function(t,n){const o=document.querySelector(".main"),c=document.createElement("form");c.classList.add("defaultForm");const s=document.createElement("div");s.classList.add("defaultForm-control");const r=document.createElement("label");r.classList.add("defaultFormLabel"),r.setAttribute("for","title"),r.textContent="Title";const d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","title"),r.appendChild(d),s.appendChild(r),c.appendChild(s);const i=document.createElement("div");i.classList.add("defaultForm-control");const a=document.createElement("label");a.classList.add("defaultFormLabel"),a.setAttribute("for","description"),a.textContent="Description";const l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","description"),a.appendChild(l),i.appendChild(a),c.appendChild(i);const p=document.createElement("div");p.classList.add("defaultForm-control");const m=document.createElement("label");m.classList.add("defaultFormLabel"),m.setAttribute("for","dueDate"),m.textContent="Due date";const b=document.createElement("input");b.setAttribute("type","date"),b.setAttribute("id","dueDate"),b.setAttribute("required","true"),m.appendChild(b),p.appendChild(m),c.appendChild(p);const h=document.createElement("div");h.classList.add("defaultForm-control");const f=document.createElement("label");f.classList.add("defaultFormLabel"),f.setAttribute("for","priority"),f.textContent="Priority";const C=document.createElement("input");C.setAttribute("type","range"),C.setAttribute("id","priority"),C.setAttribute("min","1"),C.setAttribute("max","3"),f.appendChild(C),h.appendChild(f),c.appendChild(h);const v=document.createElement("div");v.classList.add("defaultForm-control");const L=document.createElement("button");L.classList.add("add"),L.textContent="Add",v.appendChild(L),c.appendChild(v),o.appendChild(c),c.addEventListener("submit",(s=>{s.preventDefault(),function(t,e){e.push(t)}(new e(document.querySelector("#title").value,document.querySelector("#description").value,document.querySelector("#dueDate").value,document.querySelector("#priority").value),n),o.removeChild(c),u(t,n)}))}(y,j)})),function(t,e){const n=document.querySelector(".newProject");n.addEventListener("click",(()=>{n.disabled=!0,function(t,e){const n=document.querySelector(".projectsSidebar"),o=document.createElement("form");o.classList.add("newProjectForm");const c=document.createElement("label");c.classList.add("projectLabel"),c.setAttribute("for","project"),c.textContent="Project's name";const s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("id","project"),c.appendChild(s),o.appendChild(c);const r=document.createElement("div");r.classList.add("projectDiv");const d=document.createElement("label");d.classList.add("projectLabel"),d.setAttribute("for","dueDate"),d.textContent="Due date";const i=document.createElement("input");i.setAttribute("type","date"),i.setAttribute("id","dueDate"),i.setAttribute("required","true"),d.appendChild(i),r.appendChild(d),o.appendChild(r),n.insertBefore(o,n.children[1].nextSibling),o.addEventListener("submit",(c=>{c.preventDefault(),function(t,e){e.push(t)}(new p(document.querySelector("#project").value,document.querySelector("#dueDate").value),t),n.removeChild(o),document.querySelector(".newProject").disabled=!1,v(t,e)}))}(t,e)}))}(E,L),f(E),m(E)})();